### CF1111D




关于原始排列方案数的一些说明：

对于可重集的不同排列方案数有：

$$\Large\frac{n!}
{a_1!a_2!a_3!..a_m!}
$$


通过上述公式，令 $\large h=\frac{n}{2}$ 。那么，对于题目中分成两段，对于某一段满足其构成的方案，容易有：

$$\frac{h!}
{a_1!a_2!...a_k!}
$$

和另一半：

$$\frac{h!}{a_{k+1}!a_{k+2}!...a_{m}!}$$

那么两者相乘就得到

$$\large\frac{(h!)^2}{a_1!a_2!...a_m！}$$

这个公式有啥用呢？注意本题就是限定去掉两项集合得到的答案。那么，我们处理出来后，可以计算去掉两项剩下的空间得到的方案数，乘上上述公式的两倍（交换两边一共两次贡献）。具体怎么计算方案呢？很简单，做背包即可。这题本质上仅有 $52*52/2$ 种不同的询问，逐一做背包？到第十个点会T（问就是我这么做寄了）。这时候就要清楚退背包了具体看这题：P4141 。
